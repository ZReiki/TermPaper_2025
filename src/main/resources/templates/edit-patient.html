<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Редагування пацієнта</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.5/dist/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap-icons/1.11.3/font/bootstrap-icons.css}">
    <link rel="stylesheet" th:href="@{/pages-style.css}" />
</head>
<body class="bg-light py-4">
<div class="container">
    <div class="card edit-card shadow mx-auto" style="max-width: 650px;">
        <div class="card-header bg-white border-0 pt-4">
            <h2 class="card-title text-center text-warning mb-0">
                <i class="bi bi-pencil-square me-2"></i>Редагування пацієнта
            </h2>
            <p class="text-center text-muted mt-2 mb-0">ID: <span th:text="${patient.patientId}"></span></p>
        </div>

        <div class="card-body pt-1">
            <form th:action="@{/main-page/edit-patient}" th:object="${patient}" method="post">
                <input type="hidden" th:field="*{patientId}" />

                <!-- Персональна інформація -->
                <div class="mb-4">
                    <h5 class="section-title"><i class="bi bi-person-lines-fill me-2"></i>Персональні дані</h5>

                    <div class="mb-3">
                        <label for="patientFullName" class="form-label required-field">ПІБ пацієнта</label>
                        <input type="text" id="patientFullName" class="form-control"
                               th:field="*{patientFullName}" required>
                    </div>

                    <div class="mb-3">
                        <label for="dutyDoctor" class="form-label required-field">Лікар</label>
                        <input type="text" id="dutyDoctor" class="form-control"
                               th:field="*{dutyDoctor}" required>
                    </div>
                </div>

                <!-- Медична інформація -->
                <div class="mb-4">
                    <h5 class="section-title"><i class="bi bi-clipboard2-pulse me-2"></i>Медичні дані</h5>

                    <div class="mb-3">
                        <label for="diagnose" class="form-label required-field">Діагноз</label>
                        <input type="text" id="diagnose" class="form-control"
                               th:field="*{diagnose}" required>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="medicationName" class="form-label">Лікарський препарат</label>
                            <input type="text" id="medicationName" class="form-control"
                                   th:field="*{medicationName}">
                        </div>
                        <div class="col-md-6">
                            <label for="dosage" class="form-label">Дозування</label>
                            <input type="text" id="dosage" class="form-control"
                                   th:field="*{dosage}">
                        </div>
                    </div>
                </div>

                <!-- Період лікування -->
                <div class="mb-4">
                    <h5 class="section-title"><i class="bi bi-calendar-range me-2"></i>Період лікування</h5>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="startDate" class="form-label">Початок</label>
                            <input type="date" id="startDate" class="form-control"
                                   th:field="*{startDate}">
                        </div>
                        <div class="col-md-6">
                            <label for="endDate" class="form-label">Кінець</label>
                            <input type="date" id="endDate" class="form-control"
                                   th:field="*{endDate}">
                        </div>
                    </div>
                </div>

                <!-- Кнопки дій -->
                <div class="d-flex justify-content-between mt-4 pt-2">
                    <a th:href="@{'/details/' + ${patient.patientId}}" class="btn btn-outline-secondary px-4">
                        <i class="bi bi-arrow-left me-2"></i>Скасувати
                    </a>
                    <button type="submit" class="btn btn-success btn-save px-4">
                        <i class="bi bi-check-circle me-2"></i>Зберегти зміни
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script th:src="@{/webjars/bootstrap/5.3.5/dist/js/bootstrap.bundle.min.js}"></script>
</body>
</html>